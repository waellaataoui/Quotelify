{"version":3,"sources":["webpack:///./node_modules/history/createTransitionManager.js","webpack:///./node_modules/history/createBrowserHistory.js","webpack:///./node_modules/history/PathUtils.js","webpack:///./node_modules/history/DOMUtils.js","webpack:///./node_modules/history/LocationUtils.js"],"names":["exports","__esModule","obj","_warning","_warning2","default","prompt","listeners","setPrompt","nextPrompt","confirmTransitionTo","location","action","getUserConfirmation","callback","result","appendListener","fn","isActive","listener","apply","undefined","arguments","push","filter","item","notifyListeners","_len","length","args","Array","_key","forEach","_typeof","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","source","key","hasOwnProperty","call","_interopRequireDefault","_invariant2","_LocationUtils","_PathUtils","_createTransitionManager2","_DOMUtils","getHistoryState","window","history","state","e","props","canUseDOM","globalHistory","canUseHistory","supportsHistory","needsHashChangeListener","supportsPopStateOnHashChange","_props$forceRefresh","forceRefresh","_props$getUserConfirm","getConfirmation","_props$keyLength","keyLength","basename","stripTrailingSlash","addLeadingSlash","getDOMLocation","historyState","_ref","_window$location","path","pathname","search","hash","hasBasename","stripBasename","createLocation","createKey","Math","random","toString","substr","transitionManager","setState","nextState","handlePopState","event","isExtraneousPopstateEvent","handlePop","handleHashChange","forceNextPop","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","indexOf","fromIndex","delta","go","initialLocation","createHref","createPath","href","pushState","prevIndex","nextKeys","slice","replace","replaceState","n","goBack","goForward","listenerCount","checkDOMListeners","addEventListener","removeEventListener","isBlocked","block","unblock","listen","unlisten","charAt","stripLeadingSlash","prefix","RegExp","test","parsePath","hashIndex","searchIndex","document","createElement","node","attachEvent","detachEvent","message","confirm","ua","navigator","userAgent","supportsGoWithoutReloadUsingHash","locationsAreEqual","_resolvePathname2","_valueEqual2","currentLocation","decodeURI","URIError","a","b"],"mappings":"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","file":"npm.history.8bd57ca22fd2dcbd5c8c.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    (0, _warning2.default)(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          (0, _warning2.default)(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexports.default = createTransitionManager;","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = (0, _DOMUtils.supportsHistory)();\n  var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + (0, _PathUtils.createPath)(location);\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createBrowserHistory;","'use strict';\n\nexports.__esModule = true;\nvar addLeadingSlash = exports.addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar stripLeadingSlash = exports.stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nvar hasBasename = exports.hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\n\nvar stripBasename = exports.stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\n\nvar stripTrailingSlash = exports.stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = pathname || '/';\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.createLocation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _resolvePathname = require('resolve-pathname');\n\nvar _resolvePathname2 = _interopRequireDefault(_resolvePathname);\n\nvar _valueEqual = require('value-equal');\n\nvar _valueEqual2 = _interopRequireDefault(_valueEqual);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLocation = exports.createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = (0, _PathUtils.parsePath)(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = (0, _resolvePathname2.default)(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && (0, _valueEqual2.default)(a.state, b.state);\n};"],"sourceRoot":""}